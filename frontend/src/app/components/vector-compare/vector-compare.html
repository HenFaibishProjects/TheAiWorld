<div class="word-compare-container">
  <div class="word-compare-header">
    <div class="header-content">
      <div class="compare-avatar">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 3h18v18H3V3z"></path>
          <path d="M3 9h18M9 21V9"></path>
        </svg>
      </div>
      <div class="header-text">
        <h2>Word Similarity Analyzer</h2>
        <span class="status">
          <span class="status-dot"></span>
          Compare Any Two Words
        </span>
      </div>
    </div>
  </div>

  <div class="word-compare-body">
    <div class="input-grid">
      <div class="input-group">
        <label class="word-label">First Word</label>
        <input type="text" [(ngModel)]="word1" placeholder="e.g., Dog" class="word-input" (keydown.enter)="compareWords()">
      </div>

      <div class="vs-divider"><span class="vs-text">VS</span></div>

      <div class="input-group">
        <label class="word-label">Second Word</label>
        <input type="text" [(ngModel)]="word2" placeholder="e.g., Cat" class="word-input" (keydown.enter)="compareWords()">
      </div>
    </div>

    <button 
      (click)="compareWords()"
      [disabled]="comparingWords || !word1 || !word2"
      class="compare-action-button">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"></circle>
        <path d="M12 6v6l4 2"></path>
      </svg>
      <span>{{ comparingWords ? 'Analyzing...' : 'Compare Words' }}</span>
    </button>

    <div *ngIf="comparisonResult" class="comparison-result">
      
      <div class="result-banner">
        <div class="words-display">
          <span class="word-badge word1">{{ comparisonResult.word1 }}</span>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="arrow-icon">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
          <span class="word-badge word2">{{ comparisonResult.word2 }}</span>
        </div>

        <div class="similarity-mega">
          <div class="similarity-label">Semantic Similarity</div>
          <div class="similarity-percentage" [style.color]="getSimilarityColor(comparisonResult.similarity)">
            {{ comparisonResult.similarity }}
          </div>
          <div class="similarity-progress">
            <div class="similarity-progress-fill" 
              [style.width]="comparisonResult.similarity"
              [style.background]="getSimilarityColor(comparisonResult.similarity)">
            </div>
          </div>
          <div class="similarity-description">
            {{ getSimilarityDescription(comparisonResult.similarity) }}
          </div>
        </div>
      </div>

      <div class="vectors-preview-section">
        <div class="preview-card">
          <h4>{{ comparisonResult.word1 }} Vector</h4>
          <div class="vector-chips">
            <span *ngFor="let val of comparisonResult.word1_preview" class="vector-chip">{{ val }}</span>
          </div>
        </div>

        <div class="preview-card">
          <h4>{{ comparisonResult.word2 }} Vector</h4>
          <div class="vector-chips">
            <span *ngFor="let val of comparisonResult.word2_preview" class="vector-chip">{{ val }}</span>
          </div>
        </div>
      </div>

      <div class="explanation-card" *ngIf="comparisonResult.similarityExplanation">
        <div class="explanation-header">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="explanation-icon">
            <path d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <h3>Similarity Explanation</h3>
        </div>
        <div class="explanation-content">
          <div class="explanation-emoji">ðŸ’¡</div>
          <p class="explanation-text">{{ comparisonResult.similarityExplanation }}</p>
        </div>
      </div>
    </div>

    <div *ngIf="comparisonError" class="error-banner">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="12" y1="8" x2="12" y2="12"></line>
        <line x1="12" y1="16" x2="12.01" y2="16"></line>
      </svg>
      <span>{{ comparisonError }}</span>
    </div>
  </div>
</div>
